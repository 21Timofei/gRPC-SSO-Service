# **gRPC SSO Service**

üîê **gRPC SSO Service** ‚Äî —ç—Ç–æ —Å–µ—Ä–≤–∏—Å –µ–¥–∏–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ (**SSO**) –Ω–∞ –æ—Å–Ω–æ–≤–µ **gRPC**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –¥–ª—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–∞—Ö. –û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å ‚Äî —É–ø—Ä–æ—Å—Ç–∏—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º —Å–µ—Ä–≤–∏—Å–∞–º –≤–Ω—É—Ç—Ä–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

## **üìå –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**
- üì¢ **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–µ—Ç–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏**
- üîë **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –¥–æ—Å—Ç—É–ø–∞** (JWT)
- üîó **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–Ω–µ—à–Ω–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏** (OAuth2, OpenID Connect)
- üîí **–ó–∞—â–∏—Ç–∞ –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ TLS**
- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å gRPC**

---

## **üõ† –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**
| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è  | –û–ø–∏—Å–∞–Ω–∏–µ  |
|------------|-----------|
| **Go** | –û—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ |
| **gRPC** | –ö–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏ |
| **Protocol Buffers (Protobuf)** | –û–ø–∏—Å–∞–Ω–∏–µ API –∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö |
| **JWT (JSON Web Token)** | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| **TLS** | –ó–∞—â–∏—â—ë–Ω–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö |
| **SQLite** | –õ—ë–≥–∫–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| **Docker** | –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ |
| **YAML** | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ |

---

## **üì• –£—Å—Ç–∞–Ω–æ–≤–∫–∞**
### **1Ô∏è‚É£ –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
```sh
git clone https://github.com/21Timofei/gRPC-SSO-Service.git
cd gRPC-SSO-Service
```

### **2Ô∏è‚É£ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**
```sh
go mod tidy
```

### **3Ô∏è‚É£ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞**
–°–æ–∑–¥–∞–π—Ç–µ `config.yaml` –∏ –¥–æ–±–∞–≤—å—Ç–µ:
```yaml
db:
  type: sqlite
  path: "./sso.db"

tls:
  enabled: true
  cert_file: "server.crt"
  key_file: "server.key"
```

---

## **üöÄ –ó–∞–ø—É—Å–∫**
### **–õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫**
```sh
go run main.go
```
–°–µ—Ä–≤–∏—Å –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –Ω–∞ `localhost:50051`.

### **–ó–∞–ø—É—Å–∫ –≤ Docker**
```sh
docker build -t grpc-sso .
docker run -p 50051:50051 --env-file .env grpc-sso
```

---

## **üì° gRPC API –ú–µ—Ç–æ–¥—ã**
| –ú–µ—Ç–æ–¥  | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| **Login** | –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |
| **ValidateToken** | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ |
| **RefreshToken** | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ |
| **RevokeToken** | –ê–Ω–Ω—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ |

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:
```proto
rpc Login(LoginRequest) returns (LoginResponse);
```

---

## **üõ† –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞**
```
gRPC-SSO-Service/
‚îÇ‚îÄ‚îÄ server/
‚îÇ   ‚îú‚îÄ‚îÄ config/          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ handlers/        # gRPC-–º–µ—Ç–æ–¥—ã
‚îÇ   ‚îú‚îÄ‚îÄ storage/         # –†–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
‚îÇ‚îÄ‚îÄ proto/               # –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ API (Protobuf)
‚îÇ‚îÄ‚îÄ main.go              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ‚îÄ‚îÄ Dockerfile           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è Docker
‚îÇ‚îÄ‚îÄ go.mod               # –ú–æ–¥—É–ª—å Go
```

---

## **üìù To-Do**
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MySQL / PostgreSQL
- [ ] –†–æ–ª–µ–≤–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–º (RBAC)
- [ ] –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ LDAP / Active Directory
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ OAuth2 –∏ OpenID Connect

---

## **ü§ù –ö–æ–Ω—Ç–∞–∫—Ç—ã**
üìß Email: [timverhos@gmail.com](mailto:timverhos@gmail.com)  
üü¶ Linkedin: [Timofei Verkhososov](https://www.linkedin.com/feed/)

**‚ú® –ï—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª—Å—è ‚Äî —Å—Ç–∞–≤—å—Ç–µ ‚≠ê –Ω–∞ GitHub!** üöÄ

